<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Financeiro - Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 25px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 28px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            font-size: 32px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: white;
            color: #4f46e5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 600px;
        }
        
        .sidebar {
            background: #f8fafc;
            border-right: 1px solid #e2e8f0;
            padding: 25px 0;
        }
        
        .nav-item {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            color: #64748b;
        }
        
        .nav-item:hover {
            background: #f1f5f9;
            color: #4f46e5;
        }
        
        .nav-item.active {
            background: #eef2ff;
            color: #4f46e5;
            border-left-color: #4f46e5;
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        .content {
            padding: 30px;
        }
        
        .page-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #1e293b;
        }
        
        .page-subtitle {
            color: #64748b;
            margin-bottom: 30px;
        }
        
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #475569;
        }
        
        .card-value {
            font-size: 32px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 10px;
        }
        
        .card-change {
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .positive {
            color: #10b981;
        }
        
        .negative {
            color: #ef4444;
        }
        
        .data-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: #f8fafc;
            padding: 18px 20px;
            text-align: left;
            font-weight: 600;
            color: #475569;
            border-bottom: 2px solid #e2e8f0;
        }
        
        td {
            padding: 18px 20px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .status-active {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }
        
        .actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #4f46e5;
            color: white;
        }
        
        .btn-primary:hover {
            background: #4338ca;
        }
        
        .btn-secondary {
            background: #f1f5f9;
            color: #475569;
        }
        
        .btn-secondary:hover {
            background: #e2e8f0;
        }
        
        .btn-small {
            padding: 6px 12px;
            font-size: 14px;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #64748b;
            border-top: 1px solid #e2e8f0;
            font-size: 14px;
        }
        
        .error-message {
            background: #fee2e2;
            color: #991b1b;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        .success-message {
            background: #d1fae5;
            color: #065f46;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        .loading {
            text-align: center;
            padding: 30px;
            color: #64748b;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .dashboard-cards {
                grid-template-columns: 1fr;
            }
            
            header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <span class="logo-icon">üí∞</span>
                <span>Sistema Financeiro</span>
            </div>
            <div class="user-info">
                <div class="avatar">JS</div>
                <div>
                    <div class="user-name">Jo√£o Silva</div>
                    <div class="user-email">joao@exemplo.com</div>
                </div>
            </div>
        </header>
        
        <div class="main-content">
            <nav class="sidebar">
                <div class="nav-item active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" data-page="finance">
                    <span class="nav-icon">üí≥</span>
                    <span>Finan√ßas</span>
                </div>
                <div class="nav-item" data-page="transactions">
                    <span class="nav-icon">üìã</span>
                    <span>Transa√ß√µes</span>
                </div>
                <div class="nav-item" data-page="backups">
                    <span class="nav-icon">üíæ</span>
                    <span>Backups</span>
                </div>
                <div class="nav-item" data-page="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Configura√ß√µes</span>
                </div>
            </nav>
            
            <main class="content">
                <!-- Mensagens de status -->
                <div class="error-message" id="errorMessage">
                    <strong>Erro:</strong> <span id="errorText"></span>
                </div>
                
                <div class="success-message" id="successMessage">
                    <strong>Sucesso:</strong> <span id="successText"></span>
                </div>
                
                <!-- P√°gina do Dashboard -->
                <div id="dashboardPage" class="page">
                    <h1 class="page-title">Dashboard Financeiro</h1>
                    <p class="page-subtitle">Vis√£o geral das suas finan√ßas e atividades recentes</p>
                    
                    <div class="dashboard-cards">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Saldo Total</h3>
                                <span class="nav-icon">üí∞</span>
                            </div>
                            <div class="card-value" id="totalBalance">R$ 0,00</div>
                            <div class="card-change positive">
                                <span>‚Üë</span>
                                <span>+5.2% este m√™s</span>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Transa√ß√µes (30 dias)</h3>
                                <span class="nav-icon">üìä</span>
                            </div>
                            <div class="card-value" id="transactionCount">0</div>
                            <div class="card-change negative">
                                <span>‚Üì</span>
                                <span>-2.1% vs m√™s anterior</span>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">√öltimo Backup</h3>
                                <span class="nav-icon">üíæ</span>
                            </div>
                            <div class="card-value" id="lastBackup">Nenhum</div>
                            <div class="card-change positive">
                                <span>‚úì</span>
                                <span>Sistema operacional</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="data-table">
                        <h3 style="padding: 20px 20px 10px;">Atividade Recente</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Descri√ß√£o</th>
                                    <th>Data</th>
                                    <th>Valor</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="recentActivity">
                                <tr>
                                    <td colspan="4" class="loading">Carregando atividades...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- P√°gina de Finan√ßas -->
                <div id="financePage" class="page hidden">
                    <h1 class="page-title">Gest√£o Financeira</h1>
                    <p class="page-subtitle">Gerencie suas contas e finan√ßas pessoais</p>
                    
                    <div style="margin-bottom: 25px;">
                        <button class="btn btn-primary" id="refreshFinances">
                            <span>‚Üª</span>
                            <span>Atualizar Dados</span>
                        </button>
                    </div>
                    
                    <div class="data-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Conta</th>
                                    <th>Cache</th>
                                    <th>√öltimo Pre√ßo</th>
                                    <th>Atualizado em</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="financeData">
                                <tr>
                                    <td colspan="5" class="loading">Carregando dados financeiros...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- P√°gina de Backups -->
                <div id="backupsPage" class="page hidden">
                    <h1 class="page-title">Gest√£o de Backups</h1>
                    <p class="page-subtitle">Crie e restaure backups dos seus dados</p>
                    
                    <div style="margin-bottom: 25px; display: flex; gap: 15px;">
                        <button class="btn btn-primary" id="createBackupBtn">
                            <span>üíæ</span>
                            <span>Criar Novo Backup</span>
                        </button>
                        <button class="btn btn-secondary" id="refreshBackups">
                            <span>‚Üª</span>
                            <span>Atualizar Lista</span>
                        </button>
                    </div>
                    
                    <div class="data-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome do Backup</th>
                                    <th>Data de Cria√ß√£o</th>
                                    <th>Tamanho</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="backupsData">
                                <tr>
                                    <td colspan="4" class="loading">Carregando backups...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- P√°gina de Configura√ß√µes -->
                <div id="settingsPage" class="page hidden">
                    <h1 class="page-title">Configura√ß√µes do Sistema</h1>
                    <p class="page-subtitle">Configure suas prefer√™ncias e integra√ß√µes</p>
                    
                    <div class="card" style="margin-bottom: 25px;">
                        <h3 class="card-title" style="margin-bottom: 20px;">Configura√ß√µes do Supabase</h3>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Status da Conex√£o:</label>
                            <span id="connectionStatus" class="status-badge status-pending">Verificando...</span>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Tabelas Dispon√≠veis:</label>
                            <div id="tablesList" style="color: #64748b;">Verificando...</div>
                        </div>
                        
                        <div>
                            <button class="btn btn-secondary" id="testConnectionBtn">
                                <span>üîß</span>
                                <span>Testar Conex√£o</span>
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        
        <div class="footer">
            <p>Sistema Financeiro v1.0 | Conectado ao Supabase | ¬© 2023 Todos os direitos reservados</p>
            <p id="connectionInfo" style="font-size: 12px; margin-top: 5px;"></p>
        </div>
    </div>

    <!-- Biblioteca do Supabase (inclu√≠da apenas uma vez) -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <!-- Configura√ß√£o do Supabase -->
    <script>
        // Configura√ß√£o √∫nica do Supabase para evitar declara√ß√£o duplicada
        (function() {
            // Verifica se j√° existe uma inst√¢ncia global
            if (window.supabase && window.supabaseInitialized) {
                console.log('Supabase j√° inicializado, usando inst√¢ncia existente');
                return;
            }
            
            // Configura√ß√µes do seu projeto Supabase
            const SUPABASE_URL = 'https://lebfczoywiqkczppwuwg.supabase.co';
            const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxlYmZjem95d2lxa2N6cHB3dXdnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDI0NzQzMjMsImV4cCI6MjAxODA1MDMyM30.7R7kP6xTz4vGZ8n9Q7Xw2q3p1oQdY9X8lL6N2J3r1oU';
            
            try {
                // Cria a inst√¢ncia do Supabase
                window.supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                window.supabaseInitialized = true;
                console.log('Supabase inicializado com sucesso');
                
                // Atualiza informa√ß√µes de conex√£o
                document.getElementById('connectionInfo').textContent = 
                    `Conectado a: ${SUPABASE_URL.replace('https://', '').split('.')[0]}`;
            } catch (error) {
                console.error('Erro ao inicializar Supabase:', error);
                showError('N√£o foi poss√≠vel conectar ao banco de dados: ' + error.message);
            }
        })();
        
        // Fun√ß√µes de utilidade
        function showError(message) {
            document.getElementById('errorText').textContent = message;
            document.getElementById('errorMessage').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('errorMessage').style.display = 'none';
            }, 5000);
        }
        
        function showSuccess(message) {
            document.getElementById('successText').textContent = message;
            document.getElementById('successMessage').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('successMessage').style.display = 'none';
            }, 3000);
        }
        
        function formatCurrency(value) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(value);
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR') + ' ' + date.toLocaleTimeString('pt-BR').substring(0, 5);
        }
        
        // Navega√ß√£o entre p√°ginas
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                // Remove classe active de todos os itens
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                
                // Adiciona classe active ao item clicado
                this.classList.add('active');
                
                // Esconde todas as p√°ginas
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.add('hidden');
                });
                
                // Mostra a p√°gina correspondente
                const pageId = this.getAttribute('data-page') + 'Page';
                document.getElementById(pageId).classList.remove('hidden');
                
                // Carrega dados espec√≠ficos da p√°gina
                if (pageId === 'dashboardPage') {
                    loadDashboardData();
                } else if (pageId === 'financePage') {
                    loadFinanceData();
                } else if (pageId === 'backupsPage') {
                    loadBackupsData();
                } else if (pageId === 'settingsPage') {
                    loadSettingsData();
                }
            });
        });
        
        // Fun√ß√µes para carregar dados
        async function loadDashboardData() {
            try {
                // Simula carregamento de dados do dashboard
                document.getElementById('totalBalance').textContent = formatCurrency(15287.65);
                document.getElementById('transactionCount').textContent = '142';
                document.getElementById('lastBackup').textContent = 'Hoje, 14:30';
                
                // Carrega atividades recentes
                const { data, error } = await window.supabase
                    .from('finance_paths')
                    .select('*')
                    .order('updated_id', { ascending: false })
                    .limit(5);
                
                if (error) throw error;
                
                const activityTable = document.getElementById('recentActivity');
                activityTable.innerHTML = '';
                
                if (data && data.length > 0) {
                    data.forEach(item => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>Atualiza√ß√£o de ${item.accountin || 'conta'}</td>
                            <td>${formatDate(item.updated_id)}</td>
                            <td>${formatCurrency(item.last_price || 0)}</td>
                            <td><span class="status-badge status-active">Ativo</span></td>
                        `;
                        activityTable.appendChild(row);
                    });
                } else {
                    activityTable.innerHTML = `
                        <tr>
                            <td colspan="4" style="text-align: center; color: #64748b;">
                                Nenhuma atividade recente encontrada
                            </td>
                        </tr>
                    `;
                }
            } catch (error) {
                console.error('Erro ao carregar dados do dashboard:', error);
                showError('Erro ao carregar dados do dashboard');
            }
        }
        
        async function loadFinanceData() {
            try {
                const { data, error } = await window.supabase
                    .from('finance_paths')
                    .select('*')
                    .order('updated_id', { ascending: false });
                
                if (error) throw error;
                
                const financeTable = document.getElementById('financeData');
                financeTable.innerHTML = '';
                
                if (data && data.length > 0) {
                    data.forEach(item => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${item.accountin || 'Conta n√£o nomeada'}</td>
                            <td>${item.cache ? 'Sim' : 'N√£o'}</td>
                            <td>${formatCurrency(item.last_price || 0)}</td>
                            <td>${formatDate(item.updated_id)}</td>
                            <td class="actions">
                                <button class="btn btn-secondary btn-small" onclick="editFinanceItem('${item.id}')">Editar</button>
                                <button class="btn btn-secondary btn-small" onclick="deleteFinanceItem('${item.id}')">Excluir</button>
                            </td>
                        `;
                        financeTable.appendChild(row);
                    });
                } else {
                    financeTable.innerHTML = `
                        <tr>
                            <td colspan="5" style="text-align: center; color: #64748b;">
                                Nenhum dado financeiro encontrado
                            </td>
                        </tr>
                    `;
                }
            } catch (error) {
                console.error('Erro ao carregar dados financeiros:', error);
                showError('Erro ao carregar dados financeiros');
            }
        }
        
        async function loadBackupsData() {
            try {
                const { data, error } = await window.supabase
                    .from('backlogs')
                    .select('*')
                    .order('created_id', { ascending: false });
                
                if (error) throw error;
                
                const backupsTable = document.getElementById('backupsData');
                backupsTable.innerHTML = '';
                
                if (data && data.length > 0) {
                    data.forEach(item => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${item.backup_name}</td>
                            <td>${formatDate(item.created_id)}</td>
                            <td>${item.data ? Math.ceil(JSON.stringify(item.data).length / 1024) + ' KB' : 'N/A'}</td>
                            <td class="actions">
                                <button class="btn btn-secondary btn-small" onclick="restoreBackup('${item.id}')">Restaurar</button>
                                <button class="btn btn-secondary btn-small" onclick="deleteBackup('${item.id}')">Excluir</button>
                            </td>
                        `;
                        backupsTable.appendChild(row);
                    });
                } else {
                    backupsTable.innerHTML = `
                        <tr>
                            <td colspan="4" style="text-align: center; color: #64748b;">
                                Nenhum backup encontrado
                            </td>
                        </tr>
                    `;
                }
            } catch (error) {
                console.error('Erro ao carregar backups:', error);
                showError('Erro ao carregar backups');
            }
        }
        
        async function loadSettingsData() {
            try {
                // Testa a conex√£o com o Supabase
                const { data, error } = await window.supabase
                    .from('user_paths')
                    .select('count')
                    .limit(1);
                
                const statusElement = document.getElementById('connectionStatus');
                
                if (error) {
                    statusElement.textContent = 'Erro de conex√£o';
                    statusElement.className = 'status-badge';
                    statusElement.style.background = '#fee2e2';
                    statusElement.style.color = '#991b1b';
                } else {
                    statusElement.textContent = 'Conectado';
                    statusElement.className = 'status-badge status-active';
                }
                
                // Lista tabelas dispon√≠veis
                const tables = ['user_paths', 'finance_paths', 'backlogs'];
                document.getElementById('tablesList').textContent = tables.join(', ');
                
            } catch (error) {
                console.error('Erro ao carregar configura√ß√µes:', error);
                showError('Erro ao testar conex√£o com o banco de dados');
            }
        }
        
        // Fun√ß√µes de a√ß√£o
        document.getElementById('refreshFinances')?.addEventListener('click', loadFinanceData);
        document.getElementById('refreshBackups')?.addEventListener('click', loadBackupsData);
        document.getElementById('testConnectionBtn')?.addEventListener('click', loadSettingsData);
        
        document.getElementById('createBackupBtn')?.addEventListener('click', async function() {
            try {
                const backupName = prompt('Digite um nome para o backup:', `Backup_${new Date().toLocaleDateString('pt-BR')}`);
                
                if (!backupName) return;
                
                // Coleta dados para backup
                const { data: financeData } = await window.supabase
                    .from('finance_paths')
                    .select('*');
                
                const backupData = {
                    finance_paths: financeData || [],
                    created_at: new Date().toISOString(),
                    user: 'Jo√£o Silva'
                };
                
                // Cria o backup no banco de dados
                const { error } = await window.supabase
                    .from('backlogs')
                    .insert({
                        backup_name: backupName,
                        data: backupData,
                        user_id: 1,
                        created_id: new Date().toISOString()
                    });
                
                if (error) throw error;
                
                showSuccess(`Backup "${backupName}" criado com sucesso!`);
                loadBackupsData();
                
            } catch (error) {
                console.error('Erro ao criar backup:', error);
                showError('Erro ao criar backup: ' + error.message);
            }
        });
        
        // Fun√ß√µes auxiliares
        window.editFinanceItem = function(id) {
            alert(`Editar item financeiro ID: ${id}\nEsta funcionalidade est√° em desenvolvimento.`);
        };
        
        window.deleteFinanceItem = function(id) {
            if (confirm('Tem certeza que deseja excluir este item financeiro?')) {
                alert(`Excluir item financeiro ID: ${id}\nEsta funcionalidade est√° em desenvolvimento.`);
            }
        };
        
        window.restoreBackup = function(id) {
            if (confirm('Tem certeza que deseja restaurar este backup?\nOs dados atuais ser√£o substitu√≠dos.')) {
                alert(`Restaurar backup ID: ${id}\nEsta funcionalidade est√° em desenvolvimento.`);
            }
        };
        
        window.deleteBackup = function(id) {
            if (confirm('Tem certeza que deseja excluir este backup?')) {
                alert(`Excluir backup ID: ${id}\nEsta funcionalidade est√° em desenvolvimento.`);
            }
        };
        
        // Inicializa√ß√£o da aplica√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Aplica√ß√£o inicializada');
            
            // Carrega dados iniciais do dashboard
            loadDashboardData();
            
            // Atualiza informa√ß√µes de conex√£o
            if (window.supabaseInitialized) {
                document.getElementById('connectionInfo').textContent = 
                    `Conectado a: lebfczoywiqkczppwuwg.supabase.co | Status: OK`;
            }
        });
        
        // Tratamento de erros globais
        window.addEventListener('error', function(e) {
            if (e.message && e.message.includes('adsbygoogle')) {
                console.log('An√∫ncio bloqueado - pode ser ignorado durante o desenvolvimento');
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
